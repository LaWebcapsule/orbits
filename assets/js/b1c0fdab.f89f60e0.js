"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7710],{1518:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"documentation/quick-start","title":"Quickstart","description":"This is a basic guide to get your first resource working.","source":"@site/docs/documentation/quick-start.md","sourceDirName":"documentation","slug":"/documentation/quick-start","permalink":"/documentation/quick-start","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0.2,"frontMatter":{"sidebar_position":0.2,"title":"Quickstart"},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/documentation/"},"next":{"title":"Installation","permalink":"/category/installation"}}');var s=t(4848),i=t(8453);const r={sidebar_position:.2,title:"Quickstart"},a="Hello world",c={},l=[{value:"Install",id:"install",level:2},{value:"Write your first action",id:"write-your-first-action",level:2},{value:"Consume your action",id:"consume-your-action",level:3},{value:"Use the action anywhere you want in your app",id:"use-the-action-anywhere-you-want-in-your-app",level:4},{value:"Workflow: a chain of actions",id:"workflow-a-chain-of-actions",level:2},{value:"Consume your workflow",id:"consume-your-workflow",level:3},{value:"Resources : a complete lifecycle",id:"resources--a-complete-lifecycle",level:2},{value:"Consume your resources",id:"consume-your-resources",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"hello-world",children:"Hello world"})}),"\n",(0,s.jsx)(n.p,{children:"This is a basic guide to get your first resource working."}),"\n",(0,s.jsx)(n.h2,{id:"install",children:"Install"}),"\n",(0,s.jsxs)(n.p,{children:["Install ",(0,s.jsx)(n.code,{children:"@wbce/orbits-core"})," and ",(0,s.jsx)(n.code,{children:"@wbce/orbits-fuel"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install @wbce/orbits-core @wbce/orbits-fuel --save\n"})}),"\n",(0,s.jsx)(n.p,{children:"Install it with yarn:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"yarn add @wbce/orbits-core @wbce/orbits-fuel\n"})}),"\n",(0,s.jsx)(n.h2,{id:"write-your-first-action",children:"Write your first action"}),"\n",(0,s.jsxs)(n.p,{children:["An ",(0,s.jsx)(n.a,{href:"/documentation/core-concepts/action",children:(0,s.jsx)(n.code,{children:"Action"})})," is an object that encapsulate a mutating process."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"title='src/orbits/my-action.ts'",children:'import {Action} from "@wbce/orbits-core"\n\nexport class MyAction extends Action{\n\n    main(){\n        console.log("hello");\n        this.setResult("hello!")\n        return ActionState.Success;\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"consume-your-action",children:"Consume your action"}),"\n",(0,s.jsx)(n.h4,{id:"use-the-action-anywhere-you-want-in-your-app",children:"Use the action anywhere you want in your app"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"title='src/anywhere-in-your-app.ts'",children:"  const action = new MyAction();\n  await action.save();//the action will be executed in the background.\n  await Action.trackActionAsPromise(action, [ActionState.SUCCESS, ActionState.ERROR]);//this line is optional.\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Configure persistent storage"})}),(0,s.jsxs)(n.p,{children:["To store the state of your actions, a connection to a database is required.\nCurrently, only MongoDB is supported.\nBy default, Orbits attempts to connect to a local MongoDB instance (",(0,s.jsx)(n.code,{children:"localhost"}),").\nTo use a remote MongoDB instance, provide a full MongoDB connection URI via the ",(0,s.jsx)(n.code,{children:"ORBITS_DB__MONGO__URL"})," environment variable.\n",(0,s.jsx)(n.strong,{children:"Example"})," :"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"export ORBITS_DB__MONGO__URL='mongodb+srv://orbits:XXXX@myatlas-cluster.mongodb.net/orbits-test?retryWrites=true&w=majority'\n"})})]}),"\n",(0,s.jsx)(n.h2,{id:"workflow-a-chain-of-actions",children:"Workflow: a chain of actions"}),"\n",(0,s.jsxs)(n.p,{children:["You will quickly want to exploit the result of your action and not just launch a process in background.\nTo do this, you need to write a ",(0,s.jsx)(n.a,{href:"/documentation/core-concepts/workflow",children:(0,s.jsx)(n.code,{children:"Workflow"})}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"title='src/orbits/my-workflow.ts'",children:'import {Workflow} from "@wbce/orbits-core"\nimport {MyAction} from "./my-action.js"\n\nexport class MyWorkflow extends Workflow{\n\n    IArgument: {\n        name : string\n    }\n\n    define(){\n        const resultOfMyAction = await this.do("hello", new MyAction());\n        const name = await this.do("name", ()=>{\n            return Promise.resolve(this.argument.name)\n        })\n        console.log(`${resultOfMyAction}, ${name}!`)\n        return `${resultOfMyAction}, ${name}!`\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Of course, you don\u2019t need this level of complexity just to display \u201chello, name\u201d \u2014 this is simply for demonstration purposes.\nHere, using ",(0,s.jsx)(n.code,{children:"this.do"})," we ensure that, for each execution of ",(0,s.jsx)(n.code,{children:"MyWorkflow"}),', the "hello" step is run once and only once.\nThis approach aligns with the ',(0,s.jsx)(n.a,{href:"https://microservices.io/patterns/data/saga.html",children:"SAGA principle"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"consume-your-workflow",children:"Consume your workflow"}),"\n",(0,s.jsx)(n.p,{children:"A workflow is an action, so you consume it like an action"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"title='src/anywhere-in-your-app.ts'",children:'  const workflow = new MyWorkflow().setArgument({name : "John Doe"});\n  await workflow.save();//the action will be executed in the background.\n  await Action.trackActionAsPromise(workflow, [ActionState.SUCCESS, ActionState.ERROR]);//this line is optional.\n'})}),"\n",(0,s.jsx)(n.h2,{id:"resources--a-complete-lifecycle",children:"Resources : a complete lifecycle"}),"\n",(0,s.jsx)(n.p,{children:"Greetings occurs only once in a day but if you do :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"title='src/consume-workflow.ts'",children:'    const workflow1 = new MyWorkflow().setArgument({name : "John Doe"});\n    await workflow1.save();//the action will be executed in the background.\n    //others processes\n    const workflow2 = new MyWorkflow().setArgument({name : "John Doe"});\n    await workflow1.save();\n'})}),"\n",(0,s.jsxs)(n.p,{children:["the workflow will run twice. How do you do to have it run once ?\nThis is managed by the concept of ",(0,s.jsx)(n.a,{href:"/documentation/core-concepts/resource",children:(0,s.jsx)(n.code,{children:"Resource"})}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"title='src/orbits/my-resource.ts'",children:'    export class MyGreetings extends Resource{\n        IArgument: {\n            name : string\n            date: string\n        }\n\n        identity(){\n            return `${this.argument.name}-${this.argument.date}`\n        }\n\n        defineInstall(){\n            //say hello\n            await this.do("hello", new MyWorkflow().setArgument({\n                name: this.argument.name\n            }))\n        }\n\n        defineUpdate(){\n            //do nothing, I already have seen you\n        }\n\n        defineUninstall(){\n            //say goodbye\n            const goodbye = await this.do("goodbye", ()=>{\n                console.log("goodbye")\n                return "goodbye ; it was a great day";\n            })\n            return `${goodbye} ${this.argument.name}`\n        }\n\n    }\n'})}),"\n",(0,s.jsx)(n.h3,{id:"consume-your-resources",children:"Consume your resources"}),"\n",(0,s.jsx)(n.p,{children:"A resource is an action, so you consume it like an action"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"title='src/anywhere-in-your-app.ts'",children:'  const resource = new MyGreetings().setArgument({\n    name: "John Doe",\n    date: "01-01-01"\n  });\n  await resource.save();//the action will be executed in the background. the greetings will appear in the console\n  await Action.trackActionAsPromise(resource, [ActionState.SUCCESS, ActionState.ERROR]); \n  \n  const resource2 = new MyGreetings().setArgument({\n    name: "John Doe",\n    date: "01-01-01"\n  });\n  await resource2.save();//the action will be executed but nothing will appear in the console.log, as we already installed the resource\n  await Action.trackActionAsPromise(resource2, [ActionState.SUCCESS, ActionState.ERROR]); \n\n  const resource3 = new MyGreetings().setArgument({\n    name: "John Doe",\n    date: "01-01-01"\n  }).setCommand("goodbye");\n  await resource2.save();//the action will be executed ; "goodbye" will appear in the console\n  await Action.trackActionAsPromise(resource2, [ActionState.SUCCESS, ActionState.ERROR]);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.admonition,{title:"What's Next?",type:"tip",children:[(0,s.jsx)(n.p,{children:"Here are three recommended next steps to continue your journey:"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["\ud83d\udc4b ",(0,s.jsx)(n.a,{href:"/documentation/guides/hello-world",children:"Hello world example"})]})," - Build your first Orbits application with our step-by-step tutorial and see immediate results"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["\u2699\ufe0f ",(0,s.jsx)(n.a,{href:"/docs/category/core-concepts",children:"Core-concepts"})]})," - Master the fundamental architecture principles and design patterns that power Orbits"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["\ud83d\udee4\ufe0f ",(0,s.jsx)(n.a,{href:"/docs/category/guides",children:"Guides"})]})," - Explore hands-on tutorials ranging from beginner-friendly to advanced implementation techniques"]}),"\n"]})]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(6540);const s={},i=o.createContext(s);function r(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);